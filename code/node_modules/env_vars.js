const path = require('path');

const { DSLogger, DatasourceError } = require('ds_logger')
const conf = require('../app/conf')

debugLevel = conf.debugLevel || 0
subDebugLevels = conf.subDebugLevels || null
preciceDebugLevel = conf.preciceDebugLevel || false

class EnvVars {
    logger = new DSLogger(debugLevel, subDebugLevels, preciceDebugLevel)
    DatasourceError = DatasourceError

    jsonPath = path.resolve(__dirname, '../app/json') + "/"
    associativeTables = require('../app/associative_tables')
    tableSingulars = require('../app/table_singulars')

    databaseInstance = null // Set at runtime by SqliteDatabase
    supportedTables = {} // Filled at runtime by DefinitionsBuilder

    constructor() {
        this.logger.info("Welcome to DataSource by Bocks!")
        this.logger.debug(1, "Initialized Environment Variables")    
        this.logger.debug(2, "└─", Reflect.ownKeys(this))
    }
}


module.exports = new EnvVars