const path = require('path');

const DSLogger = require('ds_logger')
const conf = require('../app/conf')


class DatasourceError extends Error {
}

class EnvVars {
    port = conf.port || 80
    logger = new DSLogger(conf.debugLevel, conf.subDebugLevels, conf.preciceDebugLevel)
    DatasourceError = DatasourceError

    associativeTables = require('../app/associative_tables')
    tableSingulars = require('../app/table_singulars')

    deployment = conf.deployment || undefined
    sentryDsn = conf.sentryDsn || undefined
    dataType = conf.dataType || 'json'
    delimiter = conf.delimiter || '\t'
    stackTrace = conf.stackTrace || false
    databaseInstance = undefined // Set at runtime by SqliteDatabase
    supportedTables = {} // Filled at runtime by DefinitionsBuilder

    constructor() {
        this.logger.info("Welcome to DataSource by Bocks!")
        this.logger.debug(1, "Initialized Environment Variables")    
        this.logger.debug(2, "└─", Reflect.ownKeys(this))
    }
}


module.exports = new EnvVars